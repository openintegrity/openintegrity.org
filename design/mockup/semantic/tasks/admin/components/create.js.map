{"version":3,"sources":["../../../../../../../../content/design/mockup/semantic/tasks/admin/components/create.js"],"names":[],"mappings":"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","file":"create.js","sourcesContent":["/*******************************\n     Create Component Repos\n*******************************/\n\n/*\n This will create individual component repositories for each SUI component\n\n  * copy component files from release\n  * create commonjs files as index.js for NPM release\n  * create release notes that filter only items related to component\n  * custom package.json file from template\n  * create bower.json from template\n  * create README from template\n  * create meteor.js file\n*/\n\nvar\n  gulp            = require('gulp'),\n\n  // node dependencies\n  console         = require('better-console'),\n  del             = require('del'),\n  fs              = require('fs'),\n  path            = require('path'),\n  runSequence     = require('run-sequence'),\n\n  // admin dependencies\n  concatFileNames = require('gulp-concat-filenames'),\n  debug           = require('gulp-debug'),\n  flatten         = require('gulp-flatten'),\n  git             = require('gulp-git'),\n  jsonEditor      = require('gulp-json-editor'),\n  plumber         = require('gulp-plumber'),\n  rename          = require('gulp-rename'),\n  replace         = require('gulp-replace'),\n  tap             = require('gulp-tap'),\n  util            = require('gulp-util'),\n\n  // config\n  config          = require('../../config/user'),\n  release         = require('../../config/admin/release'),\n  project         = require('../../config/project/release'),\n\n  // shorthand\n  version         = project.version,\n  output          = config.paths.output\n\n;\n\n\nmodule.exports = function(callback) {\n  var\n    stream,\n    index,\n    tasks = []\n  ;\n\n  for(index in release.components) {\n\n    var\n      component = release.components[index]\n    ;\n\n    // streams... designed to save time and make coding fun...\n    (function(component) {\n\n      var\n        outputDirectory      = path.join(release.outputRoot, component),\n        isJavascript         = fs.existsSync(output.compressed + component + '.js'),\n        isCSS                = fs.existsSync(output.compressed + component + '.css'),\n        capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n        packageName          = release.packageRoot + component,\n        repoName             = release.componentRepoRoot + capitalizedComponent,\n        gitURL               = 'https://github.com/' + release.org + '/' + repoName + '.git',\n        repoURL              = 'https://github.com/' + release.org + '/' + repoName + '/',\n        concatSettings = {\n          newline : '',\n          root    : outputDirectory,\n          prepend : \"    '\",\n          append  : \"',\"\n        },\n        regExp               = {\n          match            : {\n            // templated values\n            name      : '{component}',\n            titleName : '{Component}',\n            version   : '{version}',\n            files     : '{files}',\n            // release notes\n            spacedVersions    : /(###.*\\n)\\n+(?=###)/gm,\n            spacedLists       : /(^- .*\\n)\\n+(?=^-)/gm,\n            trim              : /^\\s+|\\s+$/g,\n            unrelatedNotes    : new RegExp('^((?!(^.*(' + component + ').*$|###.*)).)*$', 'gmi'),\n            whitespace        : /\\n\\s*\\n\\s*\\n/gm,\n            // npm\n            componentExport   : /(.*)\\$\\.fn\\.\\w+\\s*=\\s*function\\(([^\\)]*)\\)\\s*{/g,\n            componentReference: '$.fn.' + component,\n            settingsExport    : /\\$\\.fn\\.\\w+\\.settings\\s*=/g,\n            settingsReference : /\\$\\.fn\\.\\w+\\.settings/g,\n            trailingComma     : /,(?=[^,]*$)/,\n            jQuery            : /jQuery/g,\n          },\n          replace : {\n            // readme\n            name              : component,\n            titleName         : capitalizedComponent,\n            // release notes\n            spacedVersions    : '',\n            spacedLists       : '$1',\n            trim              : '',\n            unrelatedNotes    : '',\n            whitespace        : '\\n\\n',\n            // npm\n            componentExport   :  'var _module = module;\\n$1module.exports = function($2) {',\n            componentReference:  '_module.exports',\n            settingsExport    :  'module.exports.settings =',\n            settingsReference :  '_module.exports.settings',\n            jQuery            :  'require(\"jquery\")'\n          }\n        },\n        task = {\n          all      : component + ' creating',\n          repo     : component + ' create repo',\n          bower    : component + ' create bower.json',\n          readme   : component + ' create README',\n          npm      : component + ' create NPM Module',\n          notes    : component + ' create release notes',\n          composer : component + ' create composer.json',\n          package  : component + ' create package.json',\n          meteor   : component + ' create meteor package.js',\n        },\n        // paths to includable assets\n        manifest = {\n          assets    : outputDirectory + '/assets/**/' + component + '?(s).*',\n          component : outputDirectory + '/' + component + '+(.js|.css)'\n        }\n      ;\n\n      // copy dist files into output folder adjusting asset paths\n      gulp.task(task.repo, false, function() {\n        return gulp.src(release.source + component + '.*')\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(release.paths.source, release.paths.output))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // create npm module\n      gulp.task(task.npm, false, function() {\n        return gulp.src(release.source + component + '!(*.min|*.map).js')\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(regExp.match.componentExport, regExp.replace.componentExport))\n          .pipe(replace(regExp.match.componentReference, regExp.replace.componentReference))\n          .pipe(replace(regExp.match.settingsExport, regExp.replace.settingsExport))\n          .pipe(replace(regExp.match.settingsReference, regExp.replace.settingsReference))\n          .pipe(replace(regExp.match.jQuery, regExp.replace.jQuery))\n          .pipe(rename('index.js'))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // create readme\n      gulp.task(task.readme, false, function() {\n        return gulp.src(release.templates.readme)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(regExp.match.name, regExp.replace.name))\n          .pipe(replace(regExp.match.titleName, regExp.replace.titleName))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // extend bower.json\n      gulp.task(task.bower, false, function() {\n        return gulp.src(release.templates.bower)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(jsonEditor(function(bower) {\n            bower.name = packageName;\n            bower.description = capitalizedComponent + ' - Semantic UI';\n            if(isJavascript) {\n              if(isCSS) {\n                bower.main = [\n                  component + '.js',\n                  component + '.css'\n                ];\n              }\n              else {\n                bower.main = [\n                  component + '.js'\n                ];\n              }\n              bower.dependencies = {\n                jquery: '>=1.8'\n              };\n            }\n            else {\n              bower.main = [\n                component + '.css'\n              ];\n            }\n            return bower;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // extend package.json\n      gulp.task(task.package, false, function() {\n        return gulp.src(release.templates.package)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(jsonEditor(function(npm) {\n            if(isJavascript) {\n              npm.dependencies = {\n                jquery: 'x.x.x'\n              };\n              npm.main = 'index.js';\n            }\n            npm.name = packageName;\n            if(version) {\n              npm.version = version;\n            }\n            npm.title       = 'Semantic UI - ' + capitalizedComponent;\n            npm.description = 'Single component release of ' + component;\n            npm.repository  = {\n              type : 'git',\n              url  : gitURL\n            };\n            return npm;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // extend composer.json\n      gulp.task(task.composer, false, function() {\n        return gulp.src(release.templates.composer)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(jsonEditor(function(composer) {\n            if(isJavascript) {\n              composer.dependencies = {\n                jquery: 'x.x.x'\n              };\n              composer.main = component + '.js';\n            }\n            composer.name = 'semantic/' + component;\n            if(version) {\n              composer.version = version;\n            }\n            composer.description = 'Single component release of ' + component;\n            return composer;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // create release notes\n      gulp.task(task.notes, false, function() {\n        return gulp.src(release.templates.notes)\n          .pipe(plumber())\n          .pipe(flatten())\n          // Remove release notes for lines not mentioning component\n          .pipe(replace(regExp.match.unrelatedNotes, regExp.replace.unrelatedNotes))\n          .pipe(replace(regExp.match.whitespace, regExp.replace.whitespace))\n          .pipe(replace(regExp.match.spacedVersions, regExp.replace.spacedVersions))\n          .pipe(replace(regExp.match.spacedLists, regExp.replace.spacedLists))\n          .pipe(replace(regExp.match.trim, regExp.replace.trim))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // Creates meteor package.js\n      gulp.task(task.meteor, function() {\n        var\n          filenames = ''\n        ;\n        return gulp.src(manifest.component)\n          .pipe(concatFileNames('empty.txt', concatSettings))\n          .pipe(tap(function(file) {\n            filenames += file.contents;\n          }))\n          .on('end', function() {\n            gulp.src(manifest.assets)\n              .pipe(concatFileNames('empty.txt', concatSettings))\n              .pipe(tap(function(file) {\n                filenames += file.contents;\n              }))\n              .on('end', function() {\n                // remove trailing slash\n                filenames = filenames.replace(regExp.match.trailingComma, '').trim();\n                gulp.src(release.templates.meteor.component)\n                  .pipe(plumber())\n                  .pipe(flatten())\n                  .pipe(replace(regExp.match.name, regExp.replace.name))\n                  .pipe(replace(regExp.match.titleName, regExp.replace.titleName))\n                  .pipe(replace(regExp.match.version, version))\n                  .pipe(replace(regExp.match.files, filenames))\n                  .pipe(rename(release.files.meteor))\n                  .pipe(gulp.dest(outputDirectory))\n                ;\n              })\n            ;\n          })\n        ;\n      });\n\n\n      // synchronous tasks in orchestrator? I think not\n      gulp.task(task.all, false, function(callback) {\n        runSequence([\n          task.repo,\n          task.npm,\n          task.bower,\n          task.readme,\n          task.package,\n          task.composer,\n          task.notes,\n          task.meteor\n        ], callback);\n      });\n\n      tasks.push(task.all);\n\n    })(component);\n  }\n\n  runSequence(tasks, callback);\n};\n"]}